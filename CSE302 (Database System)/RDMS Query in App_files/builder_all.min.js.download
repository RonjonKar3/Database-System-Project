apex.builder={},function(e,t,i,n){"use strict";const a="click",s="change";var E,r,l,o,_,u,p,d,c,T,S,A,N;e.searchBox=function(e,i,n){var s=t("#"+e);function E(e){""!==e&&e!==n&&("function"==typeof i?i(e):apex.navigation.redirect(i+encodeURIComponent(e)))}s.keypress((function(e){13===e.keyCode&&(E(s.val()),e.preventDefault())})).focus((function(){this.value===n&&(this.value="")})).blur((function(){""===this.value&&(this.value=n)})).next().on(a,(function(e){E(s.val()),e.preventDefault()}))},E=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)"),r="dark",l="dark-auto",o="standard",_="standard-auto",u="apex-theme-dark",p="apex-theme-dark-auto",d="apex-theme-standard",c="apex-theme-standard-auto",A='link[href*="/apex_ui/css/'+(T="Theme-Standard")+'"]',N='link[href*="/apex_ui/css/'+(S="Theme-Dark")+'"]',e.changeUIMode=function(a){var s,T,S=t("body"),A=t("body iframe"),N=a;S.hasClass(d)?T=o:S.hasClass(c)?T=_:S.hasClass(u)?T=r:S.hasClass(p)&&(T=l),e.setThemeCSSFile(t("html"),a),A.length>0&&e.setThemeCSSFile(A.contents(),a),a===r?(s=u,E.removeEventListener("change",e.autoDarkMode)):a===o?(s=d,E.removeEventListener("change",e.autoDarkMode)):a!==l&&a!==_||(e.isOSDarkMode()?(s=p,N=l):(s=c,N=_),E.addEventListener("change",e.autoDarkMode)),S.removeClass(d+" "+u+" "+c+" "+p).addClass(s),A.length>0&&A.contents().find("body").removeClass(d+" "+u+" "+c+" "+p).addClass(s),T!==N&&function(e){if("nobody"===i.APP_USER)n.info("Skip ajax_set_ui_mode, logging in");else{let t="4050"!==i.APP_ID?"4000":i.APP_ID;apex.server.process("ajax_set_ui_mode",{p_flow_id:t,p_flow_step_id:0,x01:e},{success:function(){},error:function(){}})}}(N),S.trigger("apex-builder-theme-changed")},e.setThemeCSSFile=function(e,t){var i,n=e.find(A),a=e.find(N);(t===r||t===l)&&n.length>0?(i=n.attr("href"),n.attr("href",i.replace(T,S))):(t===o||t===_)&&a.length>0&&(i=a.attr("href"),a.attr("href",i.replace(S,T)))},e.isOSDarkMode=function(){return E&&E.matches},e.isBuilderDarkMode=function(){return(t("body iframe").length>0?t("body iframe").contents():t("html")).find(N).length>0},e.autoDarkMode=function(){let t=e.isOSDarkMode()?l:_;e.changeUIMode(t)},e.initUIAppearance=function(){let i=t("body");(i.hasClass(c)||i.hasClass(p))&&e.autoDarkMode(),i.hasClass(u)&&t('button[aria-label="Light Mode"]').hasClass("is-on")&&e.changeUIMode(o)},t((function(){e.initUIAppearance(),t("button.js-ui-mode-btn").on("click",(function(){t("button.js-ui-mode-btn").removeClass("is-on is-off").addClass("is-off").attr("aria-current","false");let i=t(this),n=i.data("mode");i.removeClass("is-off").addClass("is-on").attr("aria-current","true"),"auto"===n?e.autoDarkMode():n===o?e.changeUIMode(o):n===r&&e.changeUIMode(r)}))}));try{var I=!1,h=!1,O=!1;window.uR=function(){I&&(I.className="htmldbButtonList",I===$x("ALL")&&(I=$x("ALL")))},window.uF=function(){var e=$x("BB")?$x("BB"):$x("ContentArea");e=e||$x("ContentBody");try{for(var t=$x_ByClass("rc-title",e,"DIV"),i=0,n=t.length;i<n;i++)$x_Show($x_UpTill(t[i],"","rounded-corner-region"));window.uR(),scroll(0,0)}catch(e){scroll(0,0)}},window.qF=function(e,t){var i=$x("BB")?$x("BB"):$x("ContentArea");i=i||$x("ContentBody");var n="ORA_WWV_ATTRIBUTE_PAGE",a="htmldbButtonListCurrent";try{var s=t.substr(1);if("ALL"===s||"DEFAULTALL"===s)e.className=a,"DEFAULTALL"!==s&&apex.storage.setCookie(n,$x("pFlowStepId").value+","+t),window.uF(),$x_Show(["BB","ContentArea","ContentBody"]);else{$x("ALL")&&($x("ALL").className="htmldbButtonList2"),window.uR(),e.className=a,I=e,O=$x_ByClass("rc-title",i,"DIV");for(var E=0;E<O.length;E++)if($x_Hide($x_UpTill(O[E],"","rounded-corner-region")),O[E].getElementsByTagName("A")){var r=O[E].getElementsByTagName("A")[0];r&&r.name&&r.name===s&&(h=r)}h&&$x_Show($x_UpTill(h,"","rounded-corner-region")),apex.storage.setCookie(n,$x("pFlowStepId").value+","+t),$x_Show(["BB","ContentArea","ContentBody"])}}catch(e){window.uF(),$x_Show(["BB","ContentArea","ContentBody"])}}}catch(e){}e.dynamicAttributes={gCurrentSelection:{pluginType:null,pluginName:null},gAjaxIdentifier:null,getAttributeSelector:function(e,t,i){return"#"+e+"ATTRIBUTE_"+(t<10?"0":"")+t+i},getAttributesSelector:function(t,i){for(var n="",a=1;a<=25;a++)a>1&&(n+=","),n+=e.dynamicAttributes.getAttributeSelector(t,a,i);return n},hide:function(i){t(e.dynamicAttributes.getAttributesSelector(i,"_CONTAINER")).hide(),t("#"+i+"FORMAT_MASK_DATE,#"+i+"FORMAT_MASK_NUMBER,#"+i+"IS_REQUIRED").each((function(){apex.item(this).hide()}))},show:function(n,E,r,l,o,_,u,p,d){var c=t(e.dynamicAttributes.getAttributesSelector(r,"")),T=t(e.dynamicAttributes.getAttributesSelector(r,"_CONTAINER")),S=T.filter(":last").next(),A=T.filter(":last").parent(),N=function(e,t,i){return'<table class="lov" cellspacing="0" cellpadding="0" border="0" role="presentation"><tr><td><input id="#ID#" name="#NAME#" type="text" maxlength="#MAX_LEN#" size="'+t+'" /></td><td><a class="a-Button a-Button--popupLOV" href="'+i+'"><span class="a-Icon icon-popup-lov"><span class="visuallyhidden">'+u+e.label+"</span></span></a></td></tr></table>"};if(e.dynamicAttributes.hide(r),l[E]&&l[E].attributeList.length>0&&l[E].attributeSortList.forEach((function(i,n){var a=t(e.dynamicAttributes.getAttributeSelector(r,i,"_CONTAINER"));0===S.length?A.append(a):S.before(a)})),o||c.each((function(){t(this).closest("a-Form-inputContainer").empty().html('<input type="hidden" id="'+this.id+'" name="'+this.name+'" value="">')})),l[E]&&(l[E].attributeList.length>0||/FORMAT_MASK/.test(l[E].standardAttributes)||/SESSION_STATE/.test(l[E].standardAttributes))){e.dynamicAttributes.gCurrentSelection={pluginType:n,pluginName:E};for(let B=0;B<l[E].attributeList.length;B++){let F=l[E].attributeList[B];var I;function V(e,t,i,n){var a="",s=!1;return e.forEach((function(e,E){a+=t.replace(/#SEQ#/g,E).replace(/#R#/g,e.r).replace(/#D#/g,e.d),e.r===i?(s=!0,a=a.replace(/#SELECTED#/g,n)):a=a.replace(/#SELECTED#/g,"")})),i&&!s&&(a+=t.replace(/#SEQ#/g,9999).replace(/#R#/g,f).replace(/#D#/g,f+"*")),a}if(F){var h,O=t(e.dynamicAttributes.getAttributeSelector(r,B+1,"")),L=O.attr("id"),R=O.attr("name"),f=O.val(),C=t("#"+L+"_CONTAINER .a-Form-labelContainer"),g=C.find("label"),P=C.find(".a-Form-required"),m=C.find(".u-VisuallyHidden"),x=t("#"+L+"_CONTAINER .a-Form-inputContainer").find(".a-Button--helpButton");g.text(F.label).append(m),x.attr("title",p+F.label).attr("aria-label",p+F.label),F.isRequired&&"SELECT LIST"!==F.type&&"CHECKBOX"!==F.type?(g.removeClass("aOptional").addClass("aRequired"),P.show(),m.show()):(g.removeClass("aRequired").addClass("aOptional"),P.hide(),m.hide()),o?!f&&F.defaultValue&&(f=F.defaultValue):f=F.defaultValue,"TEXTAREA"===F.type||"SQL"===F.type||"PLSQL"===F.type||"PLSQL EXPRESSION"===F.type||"PLSQL EXPRESSION BOOLEAN"===F.type||"PLSQL FUNCTION BODY"===F.type||"PLSQL FUNCTION BODY BOOLEAN"===F.type||"HTML"===F.type||"XML"===F.type||"JAVASCRIPT"===F.type?h='<div class="apex-item-group apex-item-group--textarea"><textarea id="#ID#" name="#NAME#" class="textarea apex-item-textarea" data-resizable="true" cols="#DISPLAY_LEN#" maxlength="#MAX_LEN#" rows="'+("TEXTAREA"===F.type?"4":"8")+'"></textarea></div>':"PAGE NUMBER"===F.type||"PAGE NUMBERS"===F.type||"AUTHORIZATION GROUPS"===F.type?h=N(F,(I=/S$/.test(F.type))?"50":"30","javascript:apex.navigation.popup({url:'wwv_flow.show?p_flow_id=#APP_ID#&p_flow_step_id=#APP_PAGE_ID#&p_instance=#APP_SESSION#&p_request=NATIVE%253D#AJAX_IDENTIFIER#&x01="+F.type+"&x02=#ID#&"+apex.util.getContextString()+("AUTHORIZATION GROUPS"===F.type?"&x03=' + $v('"+r+"ATTRIBUTE_02')":"'")+",name:'winLovList',width:400,height:450}); void(0);"):"PAGE ITEM"===F.type||"PAGE ITEMS"===F.type?h=N(F,(I=/S$/.test(F.type))?"50":"30","javascript:popUp('f?p=4000:246:#APP_SESSION#::NO:RP,246:F4000_P246_CALLING_FIELD,P246_APPEND:#ID#,"+(I?"Y":"N")+");"):"CHECKBOX"===F.type||"SELECT LIST"===F.type?(F.isRequired&&!f&&F.valueList.length>0&&(f=F.valueList[0].r),h='<select id="#ID#" name="#NAME#" class="selectlist" size="1">'+V(F.valueList,'<option value="#R#" #SELECTED#>#D#</option>',f,' selected="selected"')+"</select>"):h="CHECKBOXES"===F.type?'<fieldset id="#ID#_fieldset" class="apex-item-group apex-item-group--rc apex-item-checkbox" tabindex="-1"><input id="#ID#" name="#NAME#" type="hidden">'+V(F.valueList,'<div class="apex-item-option"><input id="#ID#_#SEQ#" type="checkbox" value="#R#"><label class="u-checkbox" for="#ID#_#SEQ#">#D#</label></div>')+"</fieldset>":"COLOR"===F.type?'<input id="#ID#" name="#NAME#" type="text" maxlength="30" size="10" />':"ICON"===F.type?'<input id="#ID#" name="#NAME#" type="text" maxlength="255" size="30" />':'<input id="#ID#" name="#NAME#" type="text" maxlength="#MAX_LEN#" size="#DISPLAY_LEN#" />',O.val(null).closest("#"+L+"_wrapper").html(h.replace(/#ID#/g,L).replace(/#NAME#/g,R).replace(/#DISPLAY_LEN#/g,F.displayLen).replace(/#MAX_LEN#/g,F.maxLen).replace(/#APP_ID#/g,i.APP_ID).replace(/#APP_PAGE_ID#/g,i.APP_PAGE_ID).replace(/#APP_SESSION#/g,i.APP_SESSION).replace(/#IMAGE_PREFIX#/g,i.APEX_FILES).replace(/#AJAX_IDENTIFIER#/g,e.dynamicAttributes.gAjaxIdentifier)),"TEXTAREA"===F.type||"SQL"===F.type||"PLSQL"===F.type||"PLSQL EXPRESSION"===F.type||"PLSQL FUNCTION BODY"===F.type||"JAVASCRIPT"===F.type?apex.item.attach(t("#"+L+"_CONTAINER")):"CHECKBOXES"===F.type&&t("#"+L).parent().find("input[type=checkbox]").on(a,(function(){var e=t(this).parent().siblings("input[type=hidden]"),i=""===e.val()?[]:e.val().split(":");this.checked?i.push(this.value):i.splice(i.indexOf(this.value),1),e.val(i.join(":")).trigger(s)})),t("#"+L).val(f),"CHECKBOXES"===F.type&&f.split(":").forEach((function(e){t("#"+L).parent().find('input[type=checkbox][value="'+e+'"]').attr("checked",!0)}))}}for(let G=0;G<l[E].attributeList.length;G++){let H=l[E].attributeList[G];H&&(e.dynamicAttributes.showHideAttribute(r,G,l[E].attributeList,d),H.dependingOnAttrSeq&&H.dependingOnCondType&&t("#"+r+"ATTRIBUTE_"+H.dependingOnAttrSeq).on(s,(function(){e.dynamicAttributes.showHideAttribute(r,G,l[E].attributeList,d)})))}/FORMAT_MASK_DATE/.test(l[E].standardAttributes)?(apex.item(r+"FORMAT_MASK_DATE").show(),apex.item(r+"FORMAT_MASK").hide()):/FORMAT_MASK_NUMBER/.test(l[E].standardAttributes)?(apex.item(r+"FORMAT_MASK_NUMBER").show(),apex.item(r+"FORMAT_MASK").hide()):apex.item(r+"FORMAT_MASK").show(),/SESSION_STATE/.test(l[E].standardAttributes)&&apex.item(r+"IS_REQUIRED").show(),_&&(l[E].attributeList.length>0||/FORMAT_MASK/.test(l[E].standardAttributes)||/SESSION_STATE/.test(l[E].standardAttributes)?$x_Show(_):$x_Hide(_))}else e.dynamicAttributes.gCurrentSelection={pluginType:null,pluginName:null},"ITEM TYPE"===n&&apex.item(r+"FORMAT_MASK").show(),_&&$x_Hide(_);var D=[],U=null,v=null,M=[],b=[];if("4446"!==i.APP_PAGE_ID)switch(n){case"ITEM TYPE":["LIST_OF_VALUES","LABEL_ALIGNMENT","PLACEHOLDER","FIELD_TEMPLATE","CSIZE","CHEIGHT","TAG_ATTRIBUTES2","LOV_DISPLAY_NULL","LOV_NULL_TEXT","LOV_CASCADE_PARENT_ITEMS","AJAX_ITEMS_TO_SUBMIT","AJAX_OPTIMIZE_REFRESH","STATIC_LOV_POPUP","DYNAMIC_LOV_POPUP","ENCRYPT_SESSION_STATE_YN","ESCAPE_ON_HTTP_OUTPUT"].forEach((function(e){apex.item(r+e).hide()})),t("#GRID,#LABEL,#ELEMENT,#VALIDATION,#DEFAULT,#SOURCE,#LOV,#QP,#READONLY,#READONLY,#HELP,#HELP").hide(),l[E]?(D=l[E].standardAttributes.split(":"),U=l[E].sqlMinColumnCount,v=l[E].sqlMaxColumnCount):(D=["VISIBLE","SOURCE","SESSION_STATE","ELEMENT","WIDTH","HEIGHT","ELEMENT_OPTION","QUICKPICK","READONLY","ENCRYPT","LOV","LOV_DISPLAY_NULL"],U=2,v=2),D.includes("VISIBLE")&&(b.push("#GRID"),M.push("FIELD_TEMPLATE"),D.includes("WIDTH")&&M.push("CSIZE"),D.includes("HEIGHT")&&M.push("CHEIGHT"),b.push("#LABEL"),b.push("#HELP"),M.push("LABEL_ALIGNMENT"),D.includes("PLACEHOLDER")&&M.push("PLACEHOLDER"),D.includes("ELEMENT_OPTION")&&M.push("TAG_ATTRIBUTES2"),D.includes("LOV")&&(M.push("LIST_OF_VALUES"),b.push("#LOV"),U<=2&&v>=2&&(M.push("STATIC_LOV_POPUP"),M.push("DYNAMIC_LOV_POPUP")),e.dynamicAttributes.setSqlExamples(n,E),D.includes("LOV_DISPLAY_NULL")&&(M.push("LOV_DISPLAY_NULL"),"YES"===$v(r+"LOV_DISPLAY_NULL")&&M.push("LOV_NULL_TEXT")),D.includes("CASCADING_LOV")&&(M.push("LOV_CASCADE_PARENT_ITEMS"),apex.item(r+"LOV_CASCADE_PARENT_ITEMS").isEmpty()||(M.push("AJAX_ITEMS_TO_SUBMIT"),M.push("AJAX_OPTIMIZE_REFRESH")))),D.includes("QUICKPICK")&&b.push("#QP"),D.includes("READONLY")&&b.push("#READONLY"),D.includes("ESCAPE_OUTPUT")&&M.push("ESCAPE_ON_HTTP_OUTPUT")),D.includes("ELEMENT")&&b.push("#ELEMENT"),D.includes("SOURCE")&&(b.push("#SOURCE"),b.push("#DEFAULT")),D.includes("ENCRYPT")&&M.push("ENCRYPT_SESSION_STATE_YN"),"NATIVE_STOP_AND_START_HTML_TABLE"===E&&(b.push("#LABEL"),b.push("#HELP")),M.forEach((function(e){apex.item(r+e).show()})),t(b.join()).show();break;case"REGION TYPE":["AJAX_ITEMS_TO_SUBMIT","ESCAPE_ON_HTTP_OUTPUT"].forEach((function(e){apex.item(r+e).hide()})),t("#SOURCE,#SQL_EXAMPLES").hide(),((D=l[E]?l[E].standardAttributes.split(":"):["SOURCE_PLAIN"]).includes("SOURCE_PLAIN")||D.includes("SOURCE_SQL"))&&(b.push("#SOURCE"),D.includes("SOURCE_SQL")&&(e.dynamicAttributes.setSqlExamples(n,E),b.push("#SQL_EXAMPLES"))),(D.includes("AJAX_ITEMS_TO_SUBMIT")||["NATIVE_IR","NATIVE_SQL_REPORT","NATIVE_FNC_REPORT","NATIVE_TABFORM"].includes(E))&&M.push("AJAX_ITEMS_TO_SUBMIT"),D.includes("ESCAPE_OUTPUT")&&M.push("ESCAPE_ON_HTTP_OUTPUT"),M.forEach((function(e){apex.item(r+e).show()})),b.length>0&&t(b.join()).show();break;case"DYNAMIC ACTION":if(apex.item(r+"STOP_EXECUTION_ON_ERROR").hide(),apex.item(r+"WAIT_FOR_RESULT").hide(),$x_Hide("AFFECTED_ELEMENTS"),!E)return;(D=l[E].standardAttributes.split(":")).includes("STOP_EXECUTION_ON_ERROR")&&apex.item(r+"STOP_EXECUTION_ON_ERROR").show(),D.includes("WAIT_FOR_RESULT")&&apex.item(r+"WAIT_FOR_RESULT").show(),o||(D.includes("ONLOAD")?$s(r+"EXECUTE_ON_PAGE_INIT","Y"):$s(r+"EXECUTE_ON_PAGE_INIT",null));var w=$v(r+"AFFECTED_ELEMENTS_TYPE");t("#"+r+'AFFECTED_ELEMENTS_TYPE option[value!=""]').remove();var y=[];D.includes("ITEM")&&y.push("ITEM"),D.includes("BUTTON")&&y.push("BUTTON"),D.includes("REGION")&&y.push("REGION"),D.includes("JQUERY_SELECTOR")&&y.push("JQUERY_SELECTOR"),D.includes("TRIGGERING_ELEMENT")&&y.push("TRIGGERING_ELEMENT"),D.includes("EVENT_SOURCE")&&y.push("EVENT_SOURCE"),D.includes("JAVASCRIPT_EXPRESSION")&&(y.push("DOM_OBJECT"),y.push("JAVASCRIPT_EXPRESSION")),0===y.length?($x_Hide("AFFECTED_ELEMENTS"),apex.item(r+"AFFECTED_ELEMENTS_TYPE").hide(),$s(r+"AFFECTED_ELEMENTS_TYPE","")):($x_Show("AFFECTED_ELEMENTS"),apex.item(r+"AFFECTED_ELEMENTS_TYPE").show(),y.forEach((function(e){t('#ELEMENTS_TYPE_CLONE option[value="'+e+'"]').clone().appendTo("#"+r+"AFFECTED_ELEMENTS_TYPE")})),$s(r+"AFFECTED_ELEMENTS_TYPE",w));break;case"AUTHENTICATION TYPE":E&&l[E].standardAttributes.split(":").includes("INVALID_SESSION")?t("#INVALID_SESSION_ATTRIBUTES").show():t("#INVALID_SESSION_ATTRIBUTES").hide()}},showHideAttribute:function(e,i,n,a){var E=e+"ATTRIBUTE_",r=E+(i<9?"0":"")+(i+1);!function e(t){var i,s,r,l=!a||n[t].showInWizard;if(l&&!0===n[t].isExcluded&&(l=!1),l&&n[t].dependingOnAttrSeq&&n[t].dependingOnCondType)if(l=e(parseInt(n[t].dependingOnAttrSeq,10)-1))switch(i=$v(E+n[t].dependingOnAttrSeq),s=n[t].dependingOnExpr,(r="CHECKBOXES"===n[parseInt(n[t].dependingOnAttrSeq,10)-1].type)&&(i=""===i?[]:i.split(":")),n[t].dependingOnCondType){case"EQUALS":l=r?i.includes(s):i===s;break;case"NOT_EQUALS":l=r?!i.includes(s):i!==s;break;case"IN_LIST":if(s=s.split(","),r){l=!1;for(let e of i)if(l=s.includes(e))break}else l=s.includes(i);break;case"NOT_IN_LIST":if(s=s.split(","),r){l=i.length>0;for(let e of i)if(!(l=!s.includes(e)))break}else l=!s.includes(i)&&""!==i;break;case"NULL":l=r?0===i.length:!i;break;case"NOT_NULL":l=r?i.length>0:i}else!1===n[t].dependingOnAlwaysEval&&(l=!0);return l}(i)?apex.item(r).hide():apex.item(r).show(),t("#"+r).trigger(s)},help:function(t,n){var a="wwv_flow_item_help.show_plugin_attribute_help?p_application_id="+(t||i.APP_ID)+"&p_builder_page_id="+i.APP_PAGE_ID+"&p_session_id="+i.APP_SESSION+"&p_plugin_type="+e.dynamicAttributes.gCurrentSelection.pluginType+"&p_plugin_name="+e.dynamicAttributes.gCurrentSelection.pluginName+"&p_attribute_scope="+("4446"===i.APP_PAGE_ID?"APPLICATION":"COMPONENT")+"&p_attribute_sequence="+n.substr(n.length-2);apex.theme.popupFieldHelp("","",a)},setSqlExamples:function(e,n){var a={p_request:"APPLICATION_PROCESS=get_plugin_sql_examples",p_flow_id:i.APP_ID,p_flow_step_id:i.APP_PAGE_ID,p_instance:i.APP_SESSION,x01:e,x02:n};t.ajax({mode:"abort",port:"setSqlExamples",type:"post",url:"wwv_flow.show&"+apex.util.getContextString(),data:a,success:function(e){t("#bodySQL_EXAMPLES").html(e)}})}},t((function(){t(document.body).on("click",".js-dynamicItemHelp",(function(){var n=t(this).attr("data-itemname"),a=t(this).attr("data-appid")||i.APP_ID;n&&a&&e.dynamicAttributes.help(a,n)})).on("keydown",(function(n){112===n.which&&n.altKey&&t(n.target).parents().each((function(n){var a,s,E;return!(n>4)&&((a=t(this).find(".js-dynamicItemHelp")).length?(s=a.attr("data-itemname"),E=a.attr("data-appid")||i.APP_ID,s&&E&&e.dynamicAttributes.help(E,s),!1):void 0)}))}))})),e.plugin={initConditionItems:function(e,i,n,a,E,r,l,o){function _(){var s=$v(e),_=["NEVER","ALWAYS","BROWSER_IS_NSCP","BROWSER_IS_MSIE","BROWSER_IS_MSIE_OR_NSCP","BROWSER_IS_OTHER","WHEN_ANY_ITEM_IN_CURRENT_PAGE_HAS_CHANGED","WHEN_THIS_PAGE_SUBMITTED","WHEN_THIS_PAGE_NOT_SUBMITTED","PAGE_IS_IN_PRINTER_FRIENDLY_MODE","PAGE_IS_NOT_IN_PRINTER_FRIENDLY_MODE","USER_IS_NOT_PUBLIC_USER","USER_IS_PUBLIC_USER","DISPLAYING_INLINE_VALIDATION_ERRORS","NOT_DISPLAYING_INLINE_VALIDATION_ERRORS","MAX_ROWS_LT_ROWS_FETCHED","MIN_ROW_GT_THAN_ONE","IS_READ_ONLY","IS_NOT_READ_ONLY"];_.includes(s)||s===l||""===s||"%null%"===s?(apex.item(i).hide(),apex.item(n).hide(),apex.item(a).hide()):["EXISTS","NOT_EXISTS","EXPRESSION","PLSQL_ERROR","FUNCTION_BODY","FUNC_BODY_RETURNING_BOOLEAN","FUNC_BODY_RETURNING_ERR_TEXT","ITEM_IS_NULL","ITEM_IS_NOT_NULL","ITEM_NOT_NULL","ITEM_IS_ZERO","ITEM_IS_NOT_ZERO","ITEM_IS_NULL_OR_ZERO","ITEM_NOT_NULL_OR_ZERO","ITEM_CONTAINS_NO_SPACES","ITEM_IS_NUMERIC","ITEM_IS_NOT_NUMERIC","ITEM_IS_ALPHANUMERIC","REQUEST_EQUALS_CONDITION","REQUEST_NOT_EQUAL_CONDITION","REQUEST_IN_CONDITION","REQUEST_NOT_IN_CONDITION","CURRENT_PAGE_EQUALS_CONDITION","CURRENT_PAGE_NOT_EQUAL_CONDITION","CURRENT_PAGE_IN_CONDITION","CURRENT_PAGE_NOT_IN_CONDITION","CURRENT_LANG_IN_COND1","CURRENT_LANG_NOT_IN_COND1","CURRENT_LANG_NOT_EQ_COND1","CURRENT_LANG_EQ_COND1","DAD_NAME_EQ_CONDITION","DAD_NAME_NOT_EQ_CONDITION","SERVER_NAME_EQ_CONDITION","SERVER_NAME_NOT_EQ_CONDITION","HTTP_HOST_EQ_CONDITION","HTTP_HOST_NOT_EQ_CONDITION","TO_UPPER_CASE","TO_LOWER_CASE","TRIM","LTRIM","RTRIM","SINGLE_WHITESPACES","REGULAR_EXPRESSION","SQL_QUERY_SINGLE_VALUE","SQL_QUERY_SEMI_COLON"].includes(s)?(["EXPRESSION","FUNCTION_BODY","FUNC_BODY_RETURNING_BOOLEAN","FUNC_BODY_RETURNING_ERR_TEXT"].includes(s)?(apex.item(i).show(),"EXPRESSION"===s?t("#"+i+" option[value=SQL]").show():("SQL"===apex.item(i).getValue()&&apex.item(i).setValue("PLSQL"),t("#"+i+" option[value=SQL]").hide())):apex.item(i).hide(),apex.item(n).show(),apex.item(a).hide()):(apex.item(n).show(),apex.item(a).show(),apex.item(i).hide()),""!==E&&(["EXISTS","NOT_EXISTS","EXPRESSION","PLSQL_ERROR","FUNCTION_BODY","FUNC_BODY_RETURNING_BOOLEAN","FUNC_BODY_RETURNING_ERR_TEXT"].includes(s)?apex.item(E).show():apex.item(E).hide()),""!==r&&(""===s||s===l||"%null%"===s||"NEVER"===s?apex.item(r).hide():apex.item(r).show()),""!==o&&(_.includes(s)||s===l||""===s||"%null%"===s?apex.item(o).hide():apex.item(o).show())}t("#"+e).on(s,(function(){_()})),setTimeout((function(){_()}),1)},initCodeLanguageItem:function(e,i){function n(){var n=$v(i);["EXPRESSION","FUNCTION_BODY","FUNC_BODY_RETURNING_BOOLEAN","FUNC_BODY_RETURNING_ERR_TEXT"].includes(n)?(apex.item(e).show(),"EXPRESSION"===n?t("#"+e+" option[value=SQL]").show():("SQL"===apex.item(e).getValue()&&apex.item(e).setValue("PLSQL"),t("#"+e+" option[value=SQL]").hide())):apex.item(e).hide()}t("#"+i).on(s,(function(){n()})),setTimeout((function(){n()}),1)},getData:function(){var e,n=this.action.attribute01,a=new window.htmldb_Get(null,i.APP_ID,"PLUGIN="+this.action.ajaxIdentifier,i.APP_PAGE_ID);n.split(",").forEach((function(e){var i=t("#"+e)[0];i&&a.add(e,$v(i))})),(e=a.get())&&this.affectedElements.each((function(){$s(this,e)}))},groupSelectList:function(e,i){var n=t.extend({nullValue:""},i);t(e).each((function(){apex.item.create(this.id,{nullValue:n.nullValue})}))},uiComponentsSelectList:function(e,i){var n=t.extend({nullValue:""},i),a=t("#"+e),E=a.html();apex.item.create(e,{nullValue:n.nullValue}),a.find("[data-supported=false]:not([value='"+$v(e)+"'])").remove(),a.on(s,(function(){"$UNSUPPORTED$"===$v(e)&&(a.empty().append(E),a.find("option[value='$UNSUPPORTED$']").remove())}))},wizardSelection:function(e,i){var n=t("#"+e+"_SELECTION",apex.gPageContext$),a=t("#"+e,apex.gPageContext$);function E(e){e&&n.iconList("setSelection",t("[data-value="+e+"]"))}function r(){n.empty()}function l(e){var t;n.append(e.entries),n.iconList("refresh"),n.iconList("setSelection",n.children().first()),t=n.iconList("getSelectionValues"),a.val(t[0]).trigger("change")}function o(){apex.widget.util.cascadingLov(n,i.ajaxIdentifier,{pageItems:t(i.pageItemsToSubmit,apex.gPageContext$)},{optimizeRefresh:i.optimizeRefresh,dependingOn:t(i.dependingOnSelector,apex.gPageContext$),success:l,clear:r})}n.iconList({navigation:!0,label:".a-IconList-iconName",activate:function(e,t){a.val(t.values[0]).trigger("change"),i.submitPage&&apex.submit("NEXT"),e.preventDefault()},selectionChange:function(){var e=t(this).iconList("getSelectionValues");e[0]&&a.val(e[0]).trigger("change")}}),apex.widget.util.onVisibilityChange(n,(function(e){e&&E(a[0].value)})),apex.item.create(e,{setValue:E,nullValue:"",setFocusTo:function(){return n.iconList("focus"),{focus:function(){}}}}),i.dependingOnSelector&&t(i.dependingOnSelector,apex.gPageContext$).on("apexbeforerefresh",r).on(s,o),n.on("apexrefresh",o)},templateOptions:function(e){var i=t("#"+e),n=t("#"+e+"_HIDDEN"),a=t("#"+e+"_DEFAULT"),E=t("#"+e+"_CONTAINER select, #"+e+"_CONTAINER input[type=checkbox]"),r=[];function l(){var i="",s=!1;a=t("#"+e+"_DEFAULT"),r=a.val().split(":"),t("div#"+e+"_CONTAINER input[type=checkbox]").each((function(e){0===e&&(s="#DEFAULT#"===$v(this.id)),r.includes(t("#"+this.id).val())&&(t(this).prop("disabled",s),s?(t(this).prop("checked",!0),t(this).parent().addClass("is-disabled")):t(this).parent().removeClass("is-disabled"))})),E.each((function(){t(this).is(":enabled")&&(i+=$v(this.id).length>0?":"+$v(this.id):"")})),n.val(i.substring(1))}apex.item.create(e,{setFocusTo:t("input,select",i).first()}),i.on(s,l),t(document).on("apexbeforepagesubmit",l),t("#"+e+"_ADVANCED").collapsible({collapsed:!1}),i.on("apexafterrefresh",(function(){E=t("#"+e+"_CONTAINER select, #"+e+"_CONTAINER input[type=checkbox]"),t("#"+e+"_ADVANCED").collapsible({collapsed:!1})}))}},e.filePreview={trim:function(e,t){var i,n=e;return n.substr(0,1)===t&&(n=n.substring(1)),i=n.length,n.substr(i-1,1)===t&&(n=n.substring(0,i-1)),n},showPreview:function(e,t,i,n){if(e.data("previewLines")){var a,s,E=this.getLines(e.data("previewLines"),t,"\n",n),r=[],l=[],o="",_="";for(a=0;a<25;a++)_+=" ";for(a=0;a<E.length;a++){for(;E[a].charCodeAt(E[a].length-1)<32;)E[a]=E[a].substr(0,E[a].length-1);r.push(this.getFields(E[a],i,n))}for(a=0;a<r.length;a++)for(s=0;s<r[a].length;s++)(!l[s]||r[a][s].length>l[s])&&(l[s]=r[a][s].length,l[s]>25&&(l[s]=25));for(a=0;a<r.length;a++){for(s=0;s<r[a].length;s++)i&&""!==i?r[a][s].length>25?o=o+(r[a][s]+_).substring(0,l[s]-3)+"...":o+=(r[a][s]+_).substring(0,l[s]):o+=r[a][s],s<r[a].length-1&&(o+="|");o+="\n"}return o}},getFields:function(e,t,i){var n,a=this.getLines(e,9999,"\\t"===t?String.fromCharCode(9):t,i);for(n=0;n<a.length;n++)a[n]=a[n].replace(/^\s+|\s+$/g,""),i&&(a[n]=this.trim(a[n],i));return a},getLines:function(e,t,i,n){for(var a=0,s=0,E=t,r=[];E>0;){if(i&&""!==i?a=e.indexOf(i,s):(E=0,a=e.length),-1===a)E=0,a=e.length;else{for(;n&&(e.substring(s,a).match(new RegExp(n,"g"))||[]).length%2==1;)a=e.indexOf(i,a+1);-1===a&&(a=e.length,E=0)}r.push(e.substring(s,a)),E-=1,s=a+=1}return r},getAsciiLines:function(e,i,n,a,s,E){var r=e.files[0],l=new FileReader,o=r.slice(0,5120),_=this;l.onloadend=function(n){n.target.readyState===FileReader.DONE&&(t(e).data("previewLines",n.target.result),i.val(_.showPreview(t(e),5,a,s)))};try{l.readAsText(o,E||"utf-8")}catch(e){i.val(apex.lang.formatMessage("DATA_LOAD.NO_PREVIEW"))}}},e.treeUtil={find:function(e,t,i){var n=e.treeView("find",{depth:-1,findAll:!0,match:function(e){return e.label.toLowerCase().indexOf(t.toLowerCase())>=0}});n.addClass(i),n.length>0&&e.treeView("expandAll"),e.treeView("focus")},search:function(e,i,n){t("."+apex.util.escapeCSS(n),"#"+apex.util.escapeCSS(i)).removeClass(n),""!==e&&this.find(apex.region(i).widget(),e,n)},focus:function(e){apex.region(e).widget().treeView("focus")},selectRoot:function(e){apex.region(e).widget().treeView("setSelection",t("[aria-level='1']",t("#"+apex.util.escapeCSS(e))).parent()),this.focus(e)},traverse:function(e){var t;if(e.children)for(t=0;t<e.children.length;t++)this.traverse(e.children[t]);else e.children=[]}},e.breadcrumb={showParentTree:function(e,t,i){var n,a=[];e.length>0&&(e.forEach((function(e){a.push(e.id)})),n=a.join(":"),$s(t,n),apex.region(i).refresh(),apex.theme.openRegion(i))},moveNodes:function(i,n){apex.theme.closeRegion(i);var a=apex.region(i).widget().treeView("getSelectedNodes")[0].id,s=t("."+("id-"+a),t("#"+apex.util.escapeCSS(n))).parent(),E=apex.region(n).widget(),r=E.treeView("getSelection");E.treeView("moveNodes",s,0,r),e.treeUtil.focus(n)},validateMove:function(e,i,n,a){var s=[],E={},r=[];i.forEach((function(e){s.push(e.id)})),E.parentId=e.id,E.children=s,r.push(JSON.stringify(E));var l,o=apex.util.showSpinner(t("#bcEntries"));(l=apex.server.process("SAVE_CHANGES",{f01:r})).done((function(e){apex.message.showPageSuccess(e.msg)})),l.always((function(){o.remove()})),a(!0)}},e.sql={buildSelectStmt:function(e,t,i){var n=apex.item(e).getValue(),a=apex.item(t).getValue(),s=apex.item(i).getValue();return""!==a?"select * from "+(""!==n?n+".":"")+a+(""!==s?" where "+s:""):""}},e.launchAppOrPage=function(t){let i;if(t.includes("?p=")){i=t.substring(t.indexOf("?p=")+3).split(":")[0]}else i=new URL(t).pathname.split("/").slice(0,-1).join("/");e.launchAppUnderTest(t,i,{favorTabbedBrowsing:!0})}}(apex.builder,apex.jQuery,apex.env,apex.debug);
!function(n,e,i,t,o){"use strict";const a="APEX_BUILDER",s=".a-Region--hideShow";e.getAppUnderTestWindowName=function(n){let e="APEX_AUT_";return"Y"===$v("P0_WINDOW_MGMT_SHARE_WINDOW")||(e+=n),e},e.launchAppUnderTest=function(n,i,o){let a="",s=apex.navigation.openInNewWindow("",e.getAppUnderTestWindowName(i),o);return s&&s.$v&&(a=s.$v("pdebug")||""),n.includes("f?p")&&n.includes(":")&&("BRANCH_TO_PAGE_ACCEPT"===(n=n.split(":"))[3]?(n[6]=n[6]+",P1000_DEBUG",n[7]=n[7]+","+a):n[4]=a,n=n.join(":")),t.openInNewWindow(n,e.getAppUnderTestWindowName(i),o)},e.nameBuilderWindow=function(){window.name&&0!==window.name.indexOf(a)||(window.name=a+"_"+apex.env.APP_SESSION)},e.initWizardModal=function(){const e=".a-Dialog-body",i=".a-Dialog-wizardSteps",t=".a-Dialog-footer";let a=function(){let o=n(i).height(),a=n(t).height();n(e).css({top:o,bottom:a})};n(window).on("apexwindowresized",(function(){a()})),a(),o.modalAutoSize({observeClass:e,sections:[e,i,t]})},e.initStickyHeader=function(e){const i=n("#"+e);if(i[0]){const e=i.outerHeight(),t=i.parent(),o=i.offset().top;n(window).on("scroll",(function(){n(window).scrollTop()>o?(i.addClass("is-fixed"),t.css("margin-top",e)):(i.removeClass("is-fixed"),t.css("margin-top","0"))}))}},e.initWizardProgressBar=function(){o.initWizardProgressBar("a-WizardSteps")},n((function(){function i(){t.openInNewWindow(this.href,"_blank",{favorTabbedBrowsing:!0})}n(".a-Header-tabsContainer").menu({menubar:!0,behaveLikeTabs:!0}).show(),function(e){let i,t,o,a,s=n("#"+e);if(s.length)for(o=s.children("ul").children("li"),a=s.menu("option").items,i=0;i<a.length;i++)t=a[i].id,t&&o.eq(i).addClass(t)}("a_Header_menu"),n("#helpMenu_menu").on("menucreate",(function(){const e=this;["helpLinkNewWindow","helpLinkForum","helpLinkOTN","helpLinkDocLib"].forEach((function(t,o){const a=n(e).menu("find",t);a&&(a.action=i)}))})),n(s).each((function(){n(this).collapsible({content:n(this).find(".a-Region-body").first(),collapsed:n(this).hasClass("is-collapsed")})})),n("body").on("click","button.launch-aut",(function(){const i=n(this).attr("data-link"),o={},a=$v("P0_WINDOW_MGMT_MODE")||"FOCUS";let s;if(i.includes("?p=")){const n=i.substring(i.indexOf("?p=")+3).split(":");if(n.length>=8&&"BRANCH_TO_PAGE_ACCEPT"===n[3]){const e=n[6].split(","),i=n[7].split(",");for(let n=0;n<e.length&&n<i.length;n++)if("FB_FLOW_ID"===e[n]){s=i[n];break}}else s=n[0]}if(!s)try{s=new URL(window.location.origin+i).searchParams.get("fb_flow_id")}catch(n){}if(!s)try{s=new URL(window.location.href).searchParams.get("fb_flow_id")}catch(n){}if(!s)try{s=new URL(i).pathname.split("/").slice(0,-1).join("/")}catch(n){}s&&("NONE"===a||/^4\d\d\d$/.test(s)?t.redirect(i):("BROWSER"===a&&(o.favorTabbedBrowsing=!0),e.launchAppUnderTest(i,s,o)))})),n("button.launch-aut").each((function(){let e,i=n(this),t=i.attr("data-link");t||(e=/['"]((ws|f)\?p=.*)['"]/.exec(i.attr("onclick")),e||(e=/[apex.navigation.redirect(]'(.*)'/.exec(i.attr("onclick"))),e&&e.length>1&&(t=JSON.parse(`"${e[1]}"`),i.removeAttr("onclick"),i.attr("data-link",t)))})),n("#accountMenu_menu").menu({customContent:!0,tabBehavior:"NEXT"}),n(document.body).on("dialogopen dialogresizestop",".a-DialogRegion",(function(){!function(n){const e=n.find(".a-DialogRegion-buttons").height();n.find(".a-DialogRegion-body").css("bottom",e)}(n(this))}))}))}(apex.jQuery,apex.builder,apex.util,apex.navigation,apex.theme);
apex.jQuery((function(){"use strict";!function(e,a,t,i,n,s,r,o){const p={none:"none",region:"region",option:"option",listbox:"listbox"},l=a.hasOwnProperty;var c,h=o.APP_SESSION,d=$v("F4000_P1_FLOW")||$v("P4500_CURRENT_APP")||$v("P0_FLOWPAGE").split(";")[0],u=e(B+G).length>0,g="",f=o.APP_ID,S=[],m=[],v=[],C="",y=!1,E=!1,_=o.APEX_FILES+"apex_ui/js/staticData/apex_search_common_en.json",w=o.APEX_FILES+"apex_ui/js/staticData/apex_search_common_"+apex.locale.getLanguage()+".json";if(window.self!==window.top||"4050"===f)return!1;"undefined"!=typeof pe&&(c=pe);var I,P="redirect",A="search-page",L="search-app",x="search-all-apps",b="goto-page",O="goto-app",R="pe",T="shortcutAction",D="icon-edit-app",F="icon-page",k="icon-search",H="icon-shared-components",N="icon-goto-group",M="icon-page-designer",B=".",G="a-Spotlight",W="a-Spotlight-input",j="a-Spotlight-results",U="is-active",z="a-Spotlight-shortcut",$="spotlight-search",Y="a-Spotlight-label",X="sp-result-list",J=e.ui.keyCode,K={4e3:"builder",4500:"builder",4800:"teamdev",4350:"admin"}[f],Q=i.formatMessage,V=i.getMessage("SL.APP"),q=i.getMessage("SL.PAGE"),Z=i.getMessage("SL.PLACEHOLDER"),ee=(i.getMessage("SL.MATCH.FOUND"),i.getMessage("SL.NO.MATCH.FOUND"),i.getMessage("SL.SEARCH.HELP"),function(e){var a,t,i=e.title,n=e.path||"",s=e.url,r=e.type,o=e.icon,c=e.shortcut,h=c?'<span class="'+z+'" >'+c+"</span>":"",u="",g=e.peData;if((0===s||s&&s.length>0)&&(u='data-url="'+s+'" '),r&&(u=u+' data-type="'+r+'" '),g)for(a in g)l(g,a)&&(u=u+" data-"+a+'="'+g[a]+'" ');t=r===O&&e.initials.trim().length>0?'<span class="'+o+'" style="color: #fff; box-shadow: 0 0 0 1px #fff;webkit-box-shadow: 0 0 0 1px #fff;position: relative;z-index: 1;margin-right: 16px;padding: 8px;width: 32px;height: 32px;border-radius: 2px;" aria-hidden="true"><span class="a-Icon">'+e.initials+"</span></span>":e.hasCustomIcon?o:'<span class="a-Spotlight-icon" aria-hidden="true"><span class="a-Icon '+o+'"></span></span>';let f=i;f=f.replace(/^(<span).*("+>)/gm,""),f=f.replace("</span>"," â€”");let S=n.replace("{APP_ID}",d);return S=S.replace("&#92;","&#8212;"),e.alias&&e.alias.trim().length>0?'<li role="'+p.option+'" class="a-Spotlight-result a-Spotlight-result--page" aria-label="'+Q("SL.GOTO",f,S,e.alias,c||"")+' "><span class="a-Spotlight-link" '+u+">"+t+'<span class="a-Spotlight-info"><span class="'+Y+'" aria-hidden="true">'+i+'</span><span class="a-Spotlight-desc" aria-hidden="true">'+n.replace("{APP_ID}",d)+", "+e.alias+"</span></span>"+h+"</span></li>":'<li role="'+p.option+'" class="a-Spotlight-result a-Spotlight-result--page" aria-label="'+Q("SL.GOTO",f,S," ",c||"")+' "><span class="a-Spotlight-link" '+u+">"+t+'<span class="a-Spotlight-info"><span class="'+Y+'" aria-hidden="true">'+i+'</span><span class="a-Spotlight-desc" aria-hidden="true">'+n.replace("{APP_ID}",d)+"</span></span>"+h+"</span></li>"}),ae=function(a,i){var r,o=a.data("url");switch(a.data("type")){case R:s.goToComponent(a.data("typeid"),a.data("componentid"),a.data("propertyid"));break;case A:s.activateTab("search"),e("#P4500_LOCAL_SEARCH").val(g).trigger("change").trigger("focus");break;case L:t.popup({url:"f?p=4000:8000:"+h+"::::P8000_START_SEARCH,P8000_SEARCH:1,"+encodeURIComponent("\\"+g+"\\"),name:"SEARCH_RESULTS",width:1e3,height:800});break;case x:t.popup({url:"f?p=4000:8000:"+h+"::::FB_FLOW_ID,FB_FLOW_PAGE_ID,P8000_START_SEARCH,P8000_SEARCH:,,1,"+encodeURIComponent("\\"+g+"\\"),name:"SEARCH_RESULTS",width:1e3,height:800});break;case O:t.redirect("f?p=4000:1:"+h+"::NO::FB_FLOW_ID,F4000_P1_FLOW,P0_FLOWPAGE:"+o+","+o+","+o);break;case b:s&&!y?s.goToPage(o):y?t.redirect("f?p=4000:4500:"+h+"::NO::FB_FLOW_ID,FB_FLOW_PAGE_ID:"+C+","+o):t.redirect("f?p=4000:4500:"+h+"::NO::FB_FLOW_PAGE_ID:"+o);break;case P:t.redirect(function(e){return isNaN(e.split(":")[0])?e:"f?p="+e+":"+h}(o));break;case T:(r=n.lookup(o)).action||r.href?n.invoke(o,i,I):n.toggle(o)}le()},te=function(){e("#"+X).empty(),e(B+W).val("").trigger("focus"),g="",ie(),E&&(E=!1,y=!1,C="")},ie=function(){var a=e(B+j),t=e(B+W),i=a.find(B+U).attr("id"),n=e("#"+i),s=0!==a.find("li").length;e("li.a-Spotlight-result").attr("aria-selected","false"),n.attr("aria-selected","true"),t.attr("aria-activedescendant",i).attr("aria-expanded",s),e("#"+X).attr("aria-activedescendant",i)},ne=function(){var a,t,i,n,s=function(){var s=e("div.a-Spotlight-results");a=s.outerHeight(),t=e("li.a-Spotlight-result").outerHeight(),i=s.offset().top,n=a/t},r=function(e){var i=e.find(B+U),r=i.index();n||s(),!i.length||i.is(":last-child")?(i.removeClass(U),e.find("li").first().addClass(U),e.animate({scrollTop:0})):function(e){if(e[0]){var t=e.offset().top;return t<0||t>a}}(i.removeClass(U).next().addClass(U))&&e.animate({scrollTop:(r-n+2)*t},0)},o=function(e){var r=e.find(B+U),o=r.index();n||s(),!e.length||r.is(":first-child")?(r.removeClass(U),e.find("li").last().addClass(U),e.animate({scrollTop:e.find("li").length*t})):function(e){if(e[0]){var t=e.offset().top;return t>a||t<=i}}(r.removeClass(U).prev().addClass(U))&&e.animate({scrollTop:(o-1)*t},0)};e(window).on("apexwindowresized",(function(){s()})),e("body").append('<div class="'+G+'"><div class="a-Spotlight-body"><div class="a-Spotlight-search"><div class="a-Spotlight-icon"><span class="a-Icon icon-search" aria-hidden="true"></span></div><div class="a-Spotlight-field"><input type="text" role="combobox" aria-expanded="false" aria-autocomplete="none" aria-haspopup="true" aria-label="'+Q("SL.LABEL")+'" aria-owns="'+X+'" autocomplete="off" autocorrect="off" spellcheck="false" class="'+W+'" placeholder="'+Z+'"></div></div><div class="'+j+'"><ul class="a-Spotlight-resultsList" id="'+X+'" tabindex="-1" role="'+p.listbox+'" aria-labelledby="sp-aria-match-found" aria-activedescendant=""></ul></div></div></div>').on("input",B+W,(function(){var a=e(this).val().trim(),t=a.length;0===t?te():(t>1||!isNaN(a))&&a!==g&&de(a)})).on("keydown",B+G,(function(a){var t,i,n=e(B+j);switch(a.which){case J.DOWN:a.preventDefault(),r(n);break;case J.UP:a.preventDefault(),o(n);break;case J.ENTER:a.preventDefault(),ae(n.find("li.is-active span"),a);break;case J.TAB:le()}if(a.ctrlKey){switch(t=n.find(B+z).parent().get().reverse(),a.which){case 49:i=1;break;case 50:i=2;break;case 51:i=3;break;case 52:i=4}i&&ae(e(t[i-1]),a)}a.shiftKey&&a.which===J.TAB&&le(),ie()})).on("click","span.a-Spotlight-link",(function(a){ae(e(this),a)})).on("mousemove","li.a-Spotlight-result",(function(){var a=e(this);a.parent().find(B+U).removeClass(U),a.addClass(U),ie()})).on("blur",B+G,(function(){e(B+G).dialog("isOpen")&&e(B+W).trigger("focus")})),e(B+G).on("keydown",(function(a){var t=e(B+W);a.which===J.ESCAPE&&(t.val()?(te(),a.stopPropagation()):le())})),u=!0},se=async function(e){C=e;try{const a=await apex.server.process("spotlightIndex",{x01:e,x02:"N"});v=a}catch(e){r.warn(JSON.parse(e.responseText))}},re=function(e){var a,t,i,s,r,o="";for(S=e,a=n.list(),r=0;r<a.length;r++)(s=(i=a[r]).name)!==$&&((t=n.lookup(s))&&(o=n.shortcutDisplay(t.shortcut||"")),i.label&&S.push({name:i.label,description:o,path:o,shortcutAction:s,priority:0,type:T}))},oe=async function(a){var i=function(){var a=e(B+G),i=window.scrollY||window.pageYOffset;a.hasClass("ui-dialog-content")&&a.dialog("isOpen")||a.dialog({width:650,resizable:!1,height:"auto",modal:!0,position:{my:"center top",at:"center top+"+(i+64),of:e("body")},dialogClass:"ui-dialog--apexspotlight",open:function(){e(this).css("min-height","auto").prev(".ui-dialog-titlebar").remove(),t.beginFreezeScroll(),e(".ui-widget-overlay").on("click",(function(){le()}))},close:function(){t.endFreezeScroll()}})};u?(d!==C&&await se(d),i()):(ne(),i(),await async function(){if(!(S&&S.length>0))try{const a=await e.ajax({dataType:"json",type:"GET",url:w});re(a)}catch(a){if(404===a.status)try{const a=await e.ajax({dataType:"json",type:"GET",url:_});re(a)}catch(e){r.warn(JSON.parse(e.responseText))}}}(),await async function(){if(!(m&&m.length>0))try{m=await apex.server.process("spotlightIndex",{x01:null,x02:"Y"})}catch(e){r.warn(JSON.parse(e.responseText))}}(),d&&d.length>0&&await se(d)),I=a},le=function(){e(B+G).dialog("close")},ce=function(t){var i,n,s=[],r=!1,o=t.length,p=[],u=!!(d&&d.length>0||y||e(".a-Breadcrumb-item a[href^='f?p=4000:1:']").length>0),f=function(){return p=[],p=u?p.concat(v).concat(m).concat(S):p.concat(m).concat(S),r?s:p},E=function(e,a,t,i){var n,s=100,r=a-1;return 0===e&&0===r||(-1===(n=t.indexOf(g))?s=s-e-r-a:s-=n),s-i};for(let e=0;e<f.length;e++)f[e].innerHTML.match(t);for(n=0;n<t.length;n++)i=t[n],s=f().filter((function(e){let a,t,n,s=e.name,r=0;if(s){if(s=s.toLowerCase(),a=s.split(" ").map((function(e){return e[0]})).join(""),t=s.split(" ").length,n=s.search(i),o>t)return!1;if(u&&e.scope&&"app"!==e.scope&&(r=80),n>-1)return e.score=E(n,t,s,r),!0;if(e.tokens){if(e.tokens.search(i)>-1)return e.score=80,!0}else{if(a.search(i)>-1)return e.score=80,!0;if(e.appId){if(e.appId.search(i)>-1)return e.score=E(n,t,e.appId,r),!0}else if(e.pageId&&e.pageId.search(i)>-1)return r=Math.abs(e.pageId.length-i.toString().replace("/","").replace("/gi","").length),r=r>0?r+10:r,e.score=E(n,t,e.pageId,r),!0}if(e.alias&&e.alias.toLowerCase().search(i)>-1)return e.score=80,!0}})).sort((function(e,a){return a.score-e.score})),r=!0;return function(e){var a,t,i,n,s,r,o,p="",c={},g="",f=!1,S="",m={},v="";for(e.sort((function(e,a){return parseInt(a.priority,10)-parseInt(e.priority,10)})),e.length>100&&(e.length=100),a=0;a<e.length;a++)if(t=e[a],u||!t.scope||"app"!==t.scope){if(o=t.shortcut,f=!1,S="",t.appId)n=O,g=t.appId,i="App "+t.appId,r="App "+t.appId,t.appBuilderIconName&&t.appBuilderIconName.trim().length>0?(s='<span class="a-Spotlight-icon">'+t.appBuilderIconName+"</span>",f=!0):t.imageClass&&t.imageClass.trim().length>0?(s='<span class="a-Spotlight-icon '+t.imageClass+'" aria-hidden="true"></span>',f=!0):t.appColor&&t.appColor.trim().length>0&&t.appInitials.trim().length>0?(s=t.appColor,S=t.appInitials):s=D;else if(0===t.pageId||t.pageId){if(n=b,g=t.pageId,!((v=t.parentAppId?t.parentAppId:d)&&v.length>0))continue;i=" Go to "+g+" from application ID "+v,r=V+" "+v+" &#92; "+q+" "+g,s=F}else{if(n=t.type||P,g=t.url||t.shortcutAction,i=t.description,r="",t.path)if("string"==typeof t.path)r=t.path;else{var E=0;for(var _ in t.path)l(t.path,_)&&(r+=t.path[_]+" \\ ",E+=1);E>=1&&(E-=1),t.scope&&"action"!==t.scope&&t.name!==t.path.last?t.label='<span class="a-Spotlight-labelContext">'+t.path.last+"</span> "+t.name:t.scope&&"action"===t.scope&&(t.label='<span class="a-Spotlight-labelContext">'+t.path.last+"</span> "+t.description,r="");var w=r.split("\\");r=(w=w.slice(0,E)).join("\\")}s=t.icon||N}if(g&&g.length>0){if(g.indexOf("&DEBUG.")>0){var I="::::";y&&(I="::FB_FLOW_ID:"+C),g=g.substring(0,g.indexOf("&DEBUG.")+7).concat(I)}g=g.replace("%SESSION%",h).replace("&DEBUG.","NO").replace("&APP_SESSION.",h)}m={title:t.label?t.label:t.name,desc:i,url:g,icon:s,hasCustomIcon:f,type:n,path:r,score:t.score,alias:t.alias?t.alias.toLowerCase():"",initials:S,priority:t.priority},o&&(m.shortcut=o);var A=0;t.score?(A=he(c,t.score-a),c[A]=ee(m)):(A=he(c,-1e3*a),c[A]=ee(m))}return Object.keys(c).sort((function(e,a){return a-e})).forEach((function(e){p+=c[e]})),p}(function(t){var i,n=encodeURIComponent("\\"+a.escapeHTML(g)+"\\"),s=g,r=/^(\d+)(?::|-)\s*(s|sc|sh)$/;switch(r.test(g.toLowerCase())&&(i=g.toLowerCase().match(r),t.unshift({name:Q("SL.SHARED.COMP.APP",i[1]),url:"f?p=4000:9:"+h+"::NO::FB_FLOW_ID:"+i[1],icon:H,description:Q("APEX.SEARCH.GO_TO_SHARED_COMPONENTS"),path:Q("APEX.SEARCH.GO_TO_SHARED_COMPONENTS"),score:1e3,priority:100,type:P})),K){case"builder":(d||c||e(".a-Breadcrumb-item a[href^='f?p=4000:1:']").length>0)&&(c&&t.push({name:Q("SL.SEARCH.PAGE",s),type:A,icon:k,priority:0,shortcut:"Ctrl + 4"}),t.push({name:Q("SL.SEARCH.APP",s),type:L,icon:k,priority:0,shortcut:"Ctrl + 3"}));break;case"teamdev":t.push({name:Q("SL.SEARCH.TEAM.DEV",s),url:"f?p=4800:8000:"+h+":::RIR:IR_ROWFILTER:"+n,icon:k,priority:0,type:P});break;case"admin":t.push({name:Q("SL.SEARCH.USER",s),url:"f?p=4350:8000:"+h+":::RIR:IR_ROWFILTER:"+n,icon:"icon-user",priority:0,type:P})}return t.push({name:Q("SL.SEARCH.ALLAPPS",s),type:x,icon:k,priority:0,shortcut:"Ctrl + 2"}),t.push({name:Q("SL.SEARCH.WP",s),url:"f?p=4500:8000:"+h+":::RIR:IR_ROWFILTER:"+n,icon:k,type:P,priority:0,shortcut:"Ctrl + 1"}),t}(s))},he=function(e,a){return l(e,a)&&(a=he(e,a-1)),a},de=async function(t){var i,n,s,p,l,h,u,f,S,v,_,w,I,P=(g=t.trim()).split(" "),A=[],L="",x=new RegExp("^[a-z0-9!@#$%*)(=_-]+\\s*[:_-](\\s*\\S|\\s*\\d+)","gi"),b=new RegExp("^[0-9]+\\s*[:-]\\s*$","gi"),O=new RegExp("^[0-9]+\\s*[:-](\\s*\\S|\\s*\\d+)","gi"),T=!0;if(new RegExp("regexp+\\s*[:-](\\s*\\S|\\s*\\d+)","gi").test(g)?(T=!0,E=!0,s=(h=g.split(/[:-](.*)/s))[1]):b.test(g)?(T=!1,E=!0,(h=g.split(/[:-]/))[0].trim().length>0&&(p=h[0],C!==p&&se(p))):O.test(g)&&(T=!0,E=!0,y=!0,(h=g.split(/[:-]/))[1].trim().length>0&&(p=h[0],P=h[1].trim().split(" "),await se(p))),x.test(g)){_=(u=g.split(/[:-]/gi)).length-1,f="",S="",v="";try{for(let e=0;e<_;e++)0!==e&&(f+="-",S+="_"),f+=u[e],S+=u[e],l=m.find((function(e){if(e.alias.toLowerCase()===f.toLowerCase()||e.alias.toLowerCase()===S.toLowerCase())return I=e.alias.replace(/-/g," "),w=I.split(" ").length,e}));f="",S="";for(let e=0;e<w;e++)0!==e&&(f+="-",S+="_"),f+=u[e],S+=u[e];for(let e=w;e<u.length;e++)""!==u[e]&&void 0!==u[e]&&(e!==w&&(v+="-"),v+=u[e]);l=m.find((function(e){if(e.alias.toLowerCase()===f.toLowerCase()||e.alias.toLowerCase()===S.toLowerCase())return e})),T=!0,E=!0,y=!0,(p=l.appId).length>0&&(P=v.trim().split(),await se(p))}catch(e){r.warn(e)}}else E&&d!==C&&se(d);try{for(n=0;n<P.length;n++)A.push(new RegExp(a.escapeRegExp(P[n]),"gi"))}catch(e){r.warn(e)}if(T||(A=[],g=C),s){A=[];try{A.push(new RegExp(s,"gi"))}catch(e){r.warn(e)}}if(i=ce(A),c&&c.getCurrentPageId()&&!y){let t="4000"===o.APP_ID&&"9600"===o.APP_PAGE_ID?c.COMP_TYPE.WORKFLOW:c.COMP_TYPE.PAGE;L=function(t,i){var n,s,r,o,p,l,h="",d=function(e){return c.getComponentType(e)},u=function(a,t){var i,n,s,r=d(t);if(i=c.displayTitleSearch(a,t),r)for(s=r.childComponentTypes.length,n=0;n<s;n++)i=e.merge(u(a,r.childComponentTypes[n]),i);return i};for((n=u(t,i)).length>50&&(n.length=50),p=0,l=n.length;p<l;p++)r=(s=n[p]).typeId,o=d(r),h+=ee({title:a.escapeHTML(o.title.singular)+" &rarr; "+a.escapeHTML(s.getDisplayTitle()),icon:M,type:R,peData:{typeid:r,componentid:s.id,propertyid:o.displayPropertyId}});return h}(A[0],t)}e("#"+X).html(L+i).find("li").each((function(a){e(this).attr("id","sp-result-"+a)})).first().addClass(U)};n.add({name:$,label:null,title:null,shortcut:"Ctrl+Quote",action:function(e,a){return oe(a),!0}})}(apex.jQuery,apex.util,apex.navigation,apex.lang,apex.actions,window.pageDesigner,apex.debug,apex.env)}));