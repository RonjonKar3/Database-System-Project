!function(i,t,e){"use strict";var s="a-Splitter",o="."+s,n="a-Splitter-barH",r="a-Splitter-barV",a="."+n+",."+r,l="a-Splitter-thumb",h="."+l,d="u-RTL",p="is-focused",c="is-active",f="is-collapsed",b="is-disabled",m="button",u="title";i.widget("apex.splitter",{widgetEventPrefix:"splitter",options:{orientation:"horizontal",positionedFrom:"begin",minSize:60,position:100,noCollapse:!1,dragCollapse:!0,collapsed:!1,snap:!1,inc:10,realTime:!1,iframeFix:!1,restoreText:null,collapseText:null,title:null,change:null},lastPos:null,bar$:null,before$:null,after$:null,horiz:!0,fromEnd:!1,barSize:1,_create:function(){var n,r,a,l,f,b,u=this,g=this.options,z=this.element,S=t.htmlBuilder(),C=i.ui.keyCode,$=!!g.snap&&[1*g.snap,1*g.snap],v=g.noCollapse?0:1,x=null;if(2!==z.children().length)throw new Error("Splitter must have exactly two children.");if("horizontal"!==g.orientation&&"vertical"!==g.orientation)throw new Error("Orientation bad value");if("begin"!==g.positionedFrom&&"end"!==g.positionedFrom)throw new Error("PositionedFrom bad value");if(g.minSize<v&&(g.minSize=v,e.warn("Option minSize adjusted")),this.horiz="horizontal"===g.orientation,this.fromEnd="end"===g.positionedFrom,b=this.horiz?"left":"top",this.before$=z.children().eq(0),this.after$=z.children().eq(1),z.addClass(s+" resize"),"rtl"===z.css("direction")&&(z.addClass(d),this.horiz&&(this.before$=z.children().eq(1),this.after$=z.children().eq(0),this.fromEnd=!this.fromEnd)),z.parent(o).length>0||this.before$.is(o)||this.after$.is(o))throw new Error("Child of splitter cannot be a splitter");this.before$[0].id||(this.before$[0].id=(z[0].id||"splitter")+"_first"),this.after$[0].id||(this.after$[0].id=(z[0].id||"splitter")+"_second"),g.position<g.minSize&&(g.position=g.minSize),this.lastPos=g.position,g.snap&&(g.inc=g.snap),this._renderBar(S),this.bar$=i(S.toString()).insertAfter(z.children().eq(0)),this.horiz?this.barSize=this.bar$.width():this.barSize=this.bar$.height(),z.css({position:"relative"}).children().css({position:"absolute"}),this.horiz?(n=this.bar$.position()[b],r=0,a="e-resize",this.fromEnd?(l=C.LEFT,f=C.RIGHT):(l=C.RIGHT,f=C.LEFT)):(n=0,r=this.bar$.position()[b],a="s-resize",this.fromEnd?(l=C.UP,f=C.DOWN):(l=C.DOWN,f=C.UP)),this.bar$.css({left:n,top:r}).draggable({axis:u.horiz?"x":"y",containment:"parent",cancel:m,cursor:a,iframeFix:g.iframeFix,grid:$,scroll:!1,drag:function(i,t){var e;g.realTime&&(e=t.position[b],u.fromEnd&&(e=(u.horiz?z.width():z.height())-e-u.barSize),u._setPos(e,!1))},start:function(){u.bar$.addClass(c)},stop:function(i,t){var e=t.position[b];u.bar$.removeClass(c),u.fromEnd&&(e=(u.horiz?z.width():z.height())-e-u.barSize),u._setPos(e,!1)}}).on("click",(function(){i(this).find(h).trigger("focus")})).find(m).on("click",(function(){u._setPos(u._getPos(),!u._isCollapsed())})),apex.widget.util.TouchProxy.addTouchListeners(this.bar$[0]),this.bar$.find(h).on("focus",(function(){i(this).parent().addClass(p+" "+c)})).blur((function(){i(this).parent().removeClass(p+" "+c)})).keydown((function(i){var t,e,s=i.keyCode,o=null,n=!1;if(s!==f||g.collapsed?s===l&&((o=u._getPos())<0?(g.noCollapse||(n=!0),o=0):o+=g.inc,t=u._getMaxPos(),o>t&&(o=t)):(o=u._getPos(),(o-=g.inc)<g.minSize&&g.noCollapse&&(o=g.minSize),o<0&&(o=0)),null!==o)return e=o,u.fromEnd&&(e=(u.horiz?z.width():z.height())-e-u.barSize),u.bar$.css(b,e),x&&(clearTimeout(x),x=null),x=setTimeout((function(){x=null,u._setPos(o,n)}),100),!1})),this._on(!0,this._eventHandlers),g.disabled&&this._setOption("disabled",g.disabled),this.refresh()},_eventHandlers:{resize:function(e){var s,o,n,r,a=this.options,l=this.element;if(e.target===l[0]){if(s=l.height(),o=l.width(),0===s||0===o)throw new Error("Splitter needs to be in a component with size");r=l.offset(),this.horiz?(l.children().each((function(){t.setOuterHeight(i(this),s)})),this.fromEnd?(n=[r.left+a.minSize,r.top,r.left+o-this.barSize,r.top+s],a.dragCollapse&&!a.noCollapse||(n[2]-=a.minSize)):(n=[r.left,r.top,r.left+o-this.barSize-a.minSize,r.top+s],a.dragCollapse&&!a.noCollapse||(n[0]+=a.minSize+1))):(l.children().each((function(){t.setOuterWidth(i(this),o)})),this.fromEnd?(n=[r.left,r.top+a.minSize,r.left+o,r.top+s-this.barSize],a.dragCollapse&&!a.noCollapse||(n[3]-=a.minSize)):(n=[r.left,r.top,r.left+o,r.top+s-this.barSize-a.minSize],a.dragCollapse&&!a.noCollapse||(n[1]+=a.minSize+1))),this._setPos(a.position,a.collapsed),this.bar$.draggable("option","containment",n),l.children(".resize").filter(":visible").trigger("resize"),e.stopPropagation()}}},_destroy:function(){this.element.removeClass(s+" "+b+" "+d+" resize").children(a).remove(),this.element.children().css("position","")},refresh:function(){this.element.is(":visible")&&this.element.trigger("resize")},_setOption:function(t,s){var o,n,r;if(!this.options.noCollapse||"collapsed"!==t&&"restoreText"!==t&&"collapseText"!==t){if("orientation"===t||"positionedFrom"===t||"noCollapse"===t)throw new Error("Readonly option: "+t);"position"===t?this._setPos(1*s,this._isCollapsed()):"collapsed"===t?this._setPos(this._getPos(),!!s):"snap"===t?(s=!!s&&1*s,this.options.snap=s,o=!!s&&[s,s],this.bar$.draggable("option","grid",o),s&&(this.options.inc=s)):"inc"===t?(s*=1,this.options.snap&&(s=this.options.snap),this.options.inc=s):"disabled"===t?(this.options.disabled=s,r=this.bar$.find(h),this.options.noCollapse?s?r.removeAttr("tabindex"):r.attr("tabindex","0"):(r[0].disabled=s,s?r.attr(u,this.options.title):r.attr(u,this.options.collapsed?this.options.restoreText:this.options.collapseText)),this.bar$.draggable("option","disabled",s),s?(this.element.addClass(b),this.bar$.addClass(b),r.attr("aria-disabled",!0)):(r.removeAttr("aria-disabled"),this.bar$.removeClass(b),this.element.removeClass(b))):"minSize"===t?(s<(n=this.options.noCollapse?0:1)&&(s=n,e.warn("Option minSize adjusted")),this.options.minSize=s):i.Widget.prototype._setOption.apply(this,arguments),"title"===t?(this.bar$.attr(u,s),(this.options.noCollapse||this.options.disabled)&&this.bar$.find(h).attr(u,s)):"restoreText"===t&&this.options.collapsed&&!this.options.disabled?this.bar$.find(m).attr(u,s):"collapseText"!==t||this.options.collapsed||this.options.disabled?"iframeFix"===t?this.bar$.draggable("option","iframeFix",s):"dragCollapse"===t&&this.refresh():this.bar$.find(m).attr(u,s)}else e.warn("Setting "+t+" option on noCollapse splitter has no effect.")},_renderBar:function(i){var t=this.options,e=this.horiz?n:r;this.fromEnd&&(e+=" a-Splitter--end"),t.noCollapse&&(t.collapsed=!1),t.collapsed&&(e+=" "+f),i.markup("<div").attr("class",e).optionalAttr(u,t.title).markup("><div></div>"),t.noCollapse?i.markup("<span role='separator' class='"+l+"' tabindex='0' aria-expanded='true'").optionalAttr(u,t.title).markup("></span>"):i.markup("<button role='separator' class='"+l+"' type='button'").attr("aria-expanded",!t.collapsed).optionalAttr(u,t.collapsed?t.restoreText:t.collapseText).markup("></button>"),i.markup("</div>")},_getPos:function(){var i=this.element,t=this.horiz?"left":"top",e=this.bar$.position()[t];return this.fromEnd&&(e=(this.horiz?i.width():i.height())-e-this.barSize),e},_isCollapsed:function(){return this.bar$.hasClass(f)},_getMaxPos:function(){var i=this.options,t=this.element;return this.horiz?t.width()-this.barSize-i.minSize:t.height()-this.barSize-i.minSize},_setPos:function(i,e){var s,o,n,r,a,l,d=this.options,p=this.element,c=this.horiz?"left":"top",b=this._isCollapsed(),m=this.lastPos;d.noCollapse&&(e=!1),b&&!e&&(i=this.lastPos)<d.minSize&&(i=d.minSize),i<d.minSize?d.noCollapse?i=d.minSize:e=!0:i>(s=this._getMaxPos())&&(i=s),d.noCollapse&&i<=0&&(i=0),i>0&&(this.lastPos=i),e&&(i=0,d.position=0),o=this.horiz?p.width():p.height(),a=i,this.fromEnd&&(a=o-i-this.barSize),this.bar$.css(c,a),l=this.bar$.find(h),this.fromEnd?(n=this.after$,r=o-a-this.barSize):(n=this.before$,r=a),e?(this.bar$.addClass(f),d.disabled||l.attr("aria-expanded",!1).attr(u,d.restoreText),n.hide()):(d.noCollapse?n.toggle(0!==i):(this.bar$.removeClass(f),d.noCollapse||d.disabled||l.attr("aria-expanded",!0).attr(u,d.collapseText),n.show()),this.horiz?t.setOuterWidth(n,r):t.setOuterHeight(n,r)),this.fromEnd?(n=this.before$,r=a):(n=this.after$,r=o-a-this.barSize),this.horiz?t.setOuterWidth(n,r):t.setOuterHeight(n,r),d.noCollapse&&n.toggle(0!==r),this.after$.css(c,a+this.barSize+"px"),this.before$.css(c,0),(!e&&i!==m||b!==e)&&(d.collapsed=e,d.position=i,p.children(".resize").filter(":visible").trigger("resize"),this._trigger("change",{},{position:d.position,collapsed:d.collapsed,lastPosition:this.lastPos}))}});var g=0,z=0;i.apex.splitter.nextSplitter=function(t){var e,s,l,d=t?-1:1,p=i(document.activeElement);if(!(g>0||z>0))return(l=(s=i(o+" >."+n+","+o+" >."+r).filter(":visible").not(".ui-state-disabled").add(p)).index(p))>=0&&(l+=d,t&&p.parent().is(a)&&(l+=d),l>=0&&l<s.length&&(e=s.eq(l))),(e&&0===e.length&&!p.parent().is(a)||p.is("html,body"))&&(e=i(o+" >."+n+","+o+" >."+r).filter(":visible").not(".ui-state-disabled")[t?"last":"first"]()),e&&e.length>0?(e.children(h).trigger("focus"),!0):void 0},i((function(){i(document.body).on("menubeforeopen",(function(){z+=1})).on("menuafterclose",(function(){z-=1})).on("dialogopen",(function(){g+=1})).on("dialogclose",(function(){g-=1}))})),apex.message&&apex.message.addVisibilityCheck((function(t){var e=i("#"+t);e.parents(".a-Splitter").each((function(){e.is(":visible")||i(this).splitter("option","collapsed",!1)}))}))}(apex.jQuery,apex.util,apex.debug);